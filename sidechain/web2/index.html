<!DOCTYPE html>
<html ng-app="aelfdemo">

<head>
	<link href="data:image/x-icon;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKlaIkKpWiPCqVojIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKlaIzKpWiOMqVojiqlaIzCpWiNMqVojJqlaI1ypWiOUqVoifqlaIx6pWiMgqFkjiqhaIzIAAAAAqVojgqlaI1IAAAAAqVojeqlaI0KpWiMYqVojwKlaI7ipWSMQqVojZqlaI/qpWSM2AAAAAAAAAAAAAAAAAAAAAAAAAACpWiNWqVki+qlaI/CpWiPSqVoj+KlaI+6pWiPoqVoj/KlZI+KpWiP8qVoj5KhaIkKpWiP/qVojXAAAAACpWiPwqVkjmAAAAACpWiO+qVojaKlaI2ypWiP/qVoj/6laI24AAAAAqVojCgAAAACpWiMQqVkjCAAAAAAAAAAAqVojBKlaI+ipWiPOqVojEAAAAACpWiM6qVoj+KlaI+aoWiMmAAAAAKlaIx6pWiM+qVoiOqlaI/+pWiNcAAAAAKlaI/CpWSOYAAAAAAAAAAAAAAAAqVojJKlaI+CpWSPaqVojfKlaI3KoWiNiqVoifKlaI/ypWiPwqVojQAAAAACpWiMoqVoj/6laI2QAAAAAAAAAAAAAAACpWiO4qVoj3qlaI6ipWiOoqVojqKlaI6ipWiOaqVoj/6laI1wAAAAAqVoj8KlZI5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqVojJqlaI1CpWiP4qVoj/6laI/+pWiO4AAAAAKlaIxapWiP/qVojfgAAAAAAAAAAqVojAqlaI9KpWiPcqVoigqlaIoKpWiOCqVoj9KlaI76pWiP/qVojXAAAAACpWiPwqVkjmAAAAAAAAAAAAAAAAKlaIwCpWiNKqVojPAAAAACpWiNQqVojgKlaI+SpWiP/qVoj/6laI54AAAAAAAAAAKlaI7CoWSL0qVojaKlaIzipWiOcqVoj/6laI/ypWiN4qVojNqlaI5CpWiP8qVojbqlaI/+pWiNgqVojlKlaI/ipWiPUqVojlKlZI0IAAAAAqVojVqlaI/+oWiP/qVojqqlaI0SoWiMyqVojNKlaI7CpWiOcqVojEgAAAAAAAAAAqVojEKlaI66pWiP8qFoj/KlaI6qpWSO6qVkjkKlaI9qpWiP/qVoi7qlaI2apWiI6qVoj/6laI2KpWiPSqVoj/KlaI+ypWiPSqFojXgAAAACpWiNeqVoj/6lZI/+pWiNCqFkjGKlZI2ypWiMIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKlZIw6pWiMMAAAAAAAAAAAAAAAAqVojAKhaIxSpWiMEAAAAAKlaIjqpWiP/qVojXAAAAACpWiPwqVojngAAAAAAAAAAAAAAAKhZIwKpWiNcqVojTgAAAACpWSN8qVoj/6haI0oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqVoiOqlaI/+pWiNcAAAAAKlaI7qpWiL2qFojqqlaI0oAAAAAAAAAAAAAAAAAAAAAAAAAAKlaIxKpWiNcqVojBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACpWSIgqVojjqlaIzQAAAAAqVojGqlaI6apWiPOqVojXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////////////////////////////////////////7/Pdvm/gBZZ/zn2eed4Bn/DeAZ/gzGUOOeANDn///Z/v//2P///9z//////////////////////////////////////////////////////////8="
	 rel="icon" type="image/x-icon" />
	<title>Side Chain 2</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
	<link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
</head>

<body class="container" ng-cloak ng-controller="MyCtrl">
	<!-- <script type="text/javascript">
	aelf = new Aelf(new Aelf.providers.HttpProvider('http://localhost:1234/chain'));
		console.log(2333333);
	</script> -->
	<div style="margin: 10px 10px 10px 0px;">
		<span style="padding-right: 5px"><b>Token Name: </b>{{contractInfo.TokenName}}</span><span>
			<span style="padding-right: 5px"><b>Symbol: </b>{{contractInfo.Symbol}}</span>
			<span style="padding-right: 5px"><b>Total Supply: </b>{{contractInfo.TotalSupply | number}}</span>
	</div>
	<div class="table-responsive">
		<table class="table table-bordered" style="font-family: monospace">
			<tr>
				<th>Address</th>
				<th>Balance</th>
			</tr>
			<tr ng-repeat="a in accounts">
				<td>{{a.address}}</td>
				<td style="text-align: right;">{{a.bal | number}}</td>
			</tr>
		</table>
	</div>
	<hr>
	<div>
		<h3>Transfer</h3>
	</div>
	<table>
		<tr>
			<td><label>From:</label></td>
			<td>
				<select ng-model="fromIndex">
					<option ng-repeat="a in accounts" value="{{$index}}" style="font-family: monospace">{{a.address}}</option>
				</select>
			</td>
		</tr>
		<tr>
			<td><label>To:</label></td>
			<td>
				<select ng-model="toIndex">
					<option ng-repeat="a in accounts" value="{{$index}}" style="font-family: monospace">{{a.address}}</option>
				</select>
			</td>
		</tr>
		<tr>
			<td><label>Amount:</label></td>
			<td>
				<input type="number" name="input" ng-model="transferAmt" min="0" required>
			</td>
		</tr>
		<tr>
			<td colspan="2"><button ng-click="sendTransaction()" ng-disabled="toIndex === undefined || fromIndex === undefined || fromIndex == toIndex || transferAmt === undefined || transferAmt > accounts[fromIndex].bal"
				 style="margin: 2px 0px 2px 0px;" class="btn btn-primary">Transfer</button></td>
		</tr>
	</table>
	<hr>
	<div>
		<h3>Dependent Transfer</h3>
	</div>
	<table>
		<tr>
			<td><label>From:</label></td>
			<td colspan="2">
				<select ng-model="fromIndexDep">
					<option ng-repeat="a in accounts" value="{{$index}}" style="font-family: monospace">{{a.address}}</option>
				</select>
			</td>
		</tr>
		<tr>
			<td><label>To:</label></td>
			<td colspan="2">
				<select ng-model="toIndexDep">
					<option ng-repeat="a in accounts" value="{{$index}}" style="font-family: monospace">{{a.address}}</option>
				</select>
			</td>
		</tr>
		<tr>
			<td><label>Amount:</label></td>
			<td colspan="2">
				<input type="number" name="input" ng-model="transferAmtDep" min="0" required>
			</td>
		</tr>
		<tr>
			<th style="padding: 15px 0px 5px 0px;" colspan="3">Dependent On Transaction</th>
		</tr>
		<tr>
			<td><label>Hash:</label></td>
			<td colspan="2">
				<!-- <input type="text" name="input" ng-model="hashDep" required> -->
				<textarea ng-model="hashDep" rows="1" cols="70" maxlength="70" style="font-family:'Courier New', Courier, monospace"
				 required></textarea>
			</td>
		</tr>
		<tr>
			<td><label>Merkle Path:</label></td>
			<td colspan="2">
				<!-- <input type="text" name="input" ng-model="merklePathDep" required> -->
				<textarea ng-model="merklePathDep" rows="4" cols="70" style="font-family:'Courier New', Courier, monospace"
				 required></textarea>
			</td>
		</tr>
		<tr>
			<td><label>Parent Chain Height:</label></td>
			<td colspan="2">
				<input type="number" name="input" ng-model="parentHeightDep" required>
			</td>
		</tr>
		<tr>
			<td colspan="3"><button ng-click="sendTransactionDep()" ng-disabled="toIndexDep === undefined || fromIndexDep === undefined || fromIndexDep == toIndexDep || transferAmtDep === undefined || transferAmtDep > accounts[fromIndexDep].bal || hashDep === undefined || merklePathDep === undefined || parentHeightDep === undefined || parentHeightDep == 0"
				 style="margin: 2px 0px 2px 0px;" class="btn btn-primary">Transfer</button></td>
		</tr>
	</table>
	<hr>
	<div>
		<h3>Sent Transactions:</h3>
	</div>
	<table class="table">
		<tr ng-repeat="tx in sentTransactions">
			<td>
				<div class="row">
					<div class="col-sm-9"><strong><a href="{{explorerUrl + '/tx/' + tx.hash}}" target="blank">{{tx.hash}}</a></strong></div>
					<div class="col-sm-1"></div>
					<div class="col-sm-1"><strong>{{tx.status}}</strong></div>
					<div class="col-sm-1"></div>
				</div>
				<div class="row" style="font-family: monospace">
					<div class="col-sm-1"><strong>From:</strong></div>
					<div class="col-sm-10">{{tx.from}}</div>
				</div>
				<div class="row" style="font-family: monospace">
					<div class="col-sm-1"><strong>To:</strong></div>
					<div class="col-sm-10">{{tx.to}}</div>
				</div>
				<div class="row" style="font-family: monospace">
					<div class="col-sm-1"><strong>Amount:</strong></div>
					<div class="col-sm-10">{{contractInfo.Symbol}} {{tx.amount | number}}</div>
				</div>
			</td>
		</tr>
	</table>

	<div>
		<script type="text/javascript" src="../settings2.js"></script>
		<!-- <script type="text/javascript" src="../../aelf-sdk.js/dist/aelf.min.js"></script> -->
		<script type="text/javascript" src="./aelf.min.js"></script>
		<script type="text/javascript" src="./index.js"></script>
</body>

</html>